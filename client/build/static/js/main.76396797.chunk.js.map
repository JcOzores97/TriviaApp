{"version":3,"sources":["components/artistForm/ArtistForm.js","components/roundIndicator/RoundIndicator.js","components/roundInfo/RoundInfo.js","components/icons/clockIcon.svg","components/icons/starIcon.svg","components/round/Round.js","components/finalResults/FinalResults.js","components/game/Game.js","components/errorScreen/ErrorScreen.js","components/loader/Loader.js","App.js","index.js"],"names":["fetchArtistSongs","artistName","a","fetch","res","status","Error","json","fetchOptionsWithLyrics","songs","artist","optionsQuantity","url","requestBody","JSON","stringify","method","headers","body","songsWithlyrics","optionsWithLyrics","length","getRoundOptions","optionWithLyrics","randomOptions","getRandomElements","map","randomSong","song","shuffleArr","array","qty","maxNumber","Array","from","_","index","slice","getRandomNumbers","randomIndex","arr","shuffledArr","i","random","Math","floor","ArtistForm","appDispatch","setFormSubmitted","useState","setArtistName","dispatch","replace","randomSongs","toLowerCase","optionsWithLyricsSongs","option","notFetchedSongs","filter","includes","gameOptions","type","payload","error","onSubmit","ev","preventDefault","fetchGameOptions","className","htmlFor","id","value","onChange","event","target","RoundIndicator","currentRound","roundsQuantity","roundsArr","round","RoundInfo","children","info","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","stroke","d","fill","_ref3","cx","cy","r","_ref4","points","_ref5","x1","y1","x2","y2","_ref6","SvgClockIcon","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","ref","ForwardRef","SvgStarIcon","roundReducer","state","action","secondsRemaining","initialState","attempts","selectedOptions","concat","optionIndex","getRoundScore","timeIsOver","Round","gameDispatch","gameScore","roundOptions","correctOption","useReducer","roundState","attemptsRef","useRef","handleOptionClick","selectedSong","findIndex","opt","roundScore","current","useEffect","intervalo","setInterval","clearInterval","lyrics","lyric","disabled","onClick","style","FinalResults","gameReducer","initialGameState","Game","gameState","find","ErrorScreen","artistNotFoundText","Loader","appReducer","App","appState","formSubmitted","message","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76396797.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport './ArtistForm.css';\r\nasync function fetchArtistSongs(artistName) {\r\n\tconst res = await fetch(`/api/artist/${artistName}/songs/4`);\r\n\tif (res.status === 404) throw new Error('artist not found');\r\n\tif (res.status === 500) throw new Error('server error');\r\n\treturn await res.json();\r\n}\r\n\r\nasync function fetchOptionsWithLyrics(songs, artist, optionsQuantity) {\r\n\t//artist has to be URL encoded\r\n\tconst url = `api/artist/${artist}/lyrics/${optionsQuantity}`;\r\n\tconst requestBody = JSON.stringify({ songs });\r\n\tconst songsWithlyrics = await fetch(url, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: requestBody\r\n\t});\r\n\tconst optionsWithLyrics = await songsWithlyrics.json();\r\n\tif (optionsWithLyrics.songs.length === 0) throw new Error('Insufficient lyrics');\r\n\treturn optionsWithLyrics.songs;\r\n}\r\n\r\nfunction getRoundOptions(optionWithLyrics, songs) {\r\n\tconst randomSongs = getRandomElements(songs, 3);\r\n\tconst randomOptions = randomSongs.map((randomSong) => {\r\n\t\treturn { song: randomSong };\r\n\t});\r\n\tconst shuffledRandomOptions = shuffleArr([ ...randomOptions, optionWithLyrics ]);\r\n\treturn shuffledRandomOptions;\r\n}\r\nfunction getRandomElements(array, qty) {\r\n\t//devuelve un array de elementos random  a partir del array dado sin repetidos y con extensión indicada por qty\r\n\tconst randomIndexes = getRandomNumbers(qty, array.length - 1);\r\n\tconst randomElements = randomIndexes.map((randomIndex) => array[randomIndex]);\r\n\treturn randomElements;\r\n}\r\n\r\nfunction getRandomNumbers(qty, maxNumber) {\r\n\t//incluye el maxNumber\r\n\tconst indexes = Array.from(Array(maxNumber), (_, index) => index);\r\n\tlet randomNumbers = shuffleArr(indexes);\r\n\treturn randomNumbers.slice(0, qty);\r\n}\r\nfunction shuffleArr(arr) {\r\n\t//Fisher–Yates shuffle\r\n\tlet shuffledArr = [ ...arr ];\r\n\tfor (let i = 0; i < arr.length - 2; i++) {\r\n\t\tlet random = Math.floor(Math.random() * (arr.length - i) + i);\r\n\t\t[ shuffledArr[random], shuffledArr[i] ] = [ shuffledArr[i], shuffledArr[random] ];\r\n\t}\r\n\treturn shuffledArr;\r\n}\r\n\r\n//Component....\r\n\r\nconst ArtistForm = ({ appDispatch, setFormSubmitted }) => {\r\n\tconst [ artistName, setArtistName ] = useState('');\r\n\r\n\tasync function fetchGameOptions(artistName, dispatch) {\r\n\t\ttry {\r\n\t\t\tconst songs = await fetchArtistSongs(artistName.replace(' ', '%20'));\r\n\t\t\tconst randomSongs = getRandomElements(songs, 12);\r\n\t\t\tconst optionsWithLyrics = await fetchOptionsWithLyrics(\r\n\t\t\t\trandomSongs,\r\n\t\t\t\tartistName.toLowerCase().replace(/\" \"/g, ''),\r\n\t\t\t\t5\r\n\t\t\t);\r\n\t\t\tconst optionsWithLyricsSongs = optionsWithLyrics.map((option) => option.song);\r\n\t\t\tconst notFetchedSongs = songs.filter((song) => optionsWithLyricsSongs.includes(song) === false);\r\n\t\t\tconst gameOptions = optionsWithLyrics.map((optionWithLyrics) =>\r\n\t\t\t\tgetRoundOptions(optionWithLyrics, notFetchedSongs)\r\n\t\t\t);\r\n\t\t\tdispatch({ type: 'OPTIONS_READY', payload: { gameOptions, artistName } });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({ type: 'OPTIONS_ERROR', payload: { error, artistName } });\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleFormSubmit(ev) {\r\n\t\tev.preventDefault();\r\n\t\tif (artistName.replace(/\\s/g, '').length === 0) return;\r\n\t\tsetFormSubmitted(true);\r\n\t\tfetchGameOptions(artistName, appDispatch);\r\n\t}\r\n\treturn (\r\n\t\t<form onSubmit={handleFormSubmit} className=\"artist-form\">\r\n\t\t\t<h2 className=\"artist-form__title\">Trivia App</h2>\r\n\t\t\t<label className=\"artist-form__label\" htmlFor=\"artist-input\">\r\n\t\t\t\tIntroduce un artista\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\tid=\"artist-input\"\r\n\t\t\t\tclassName=\"artist-form__input\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tvalue={artistName}\r\n\t\t\t\tonChange={(event) => setArtistName(event.target.value)}\r\n\t\t\t/>\r\n\t\t\t<button className={'artist-form__submit'}>Jugar!</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default ArtistForm;\r\n","import React from 'react';\r\nimport './RoundIndicator.css';\r\n\r\nconst RoundIndicator = ({ currentRound, roundsQuantity }) => {\r\n\tconst roundsArr = Array.from(Array(roundsQuantity), (_, index) => index + 1);\r\n\treturn (\r\n\t\t<div className=\"round-indicator\">\r\n\t\t\t{roundsArr.map((round) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={round}\r\n\t\t\t\t\t\tclassName={round === currentRound ? 'round-indicator__round--active' : 'round-indicator__round'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{round}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RoundIndicator;\r\n","import React from 'react';\r\nimport './RoundInfo.css';\r\nconst RoundInfo = ({ children, info }) => {\r\n\treturn (\r\n\t\t<div className=\"round-info\">\r\n\t\t\t{children}\r\n\t\t\t<div className=\"round-info__info\">{info}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default RoundInfo;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"none\",\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 13,\n  r: 7\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 10 12 13 14 13\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 7,\n  y1: 4,\n  x2: 4.25,\n  y2: 6\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 17,\n  y1: 4,\n  x2: 19.75,\n  y2: 6\n});\n\nfunction SvgClockIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-alarm\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"#ffffff\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClockIcon);\nexport default __webpack_public_path__ + \"static/media/clockIcon.a1b8ee55.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"none\",\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z\"\n});\n\nfunction SvgStarIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-star\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"#ffffff\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarIcon);\nexport default __webpack_public_path__ + \"static/media/starIcon.6f052819.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useReducer, useRef } from 'react';\r\nimport RoundIndicator from '../roundIndicator/RoundIndicator.js';\r\nimport RoundInfo from '../roundInfo/RoundInfo.js';\r\nimport { ReactComponent as ClockIcon } from '../icons/clockIcon.svg';\r\nimport { ReactComponent as StarIcon } from '../icons/starIcon.svg';\r\nimport './Round.css';\r\nfunction roundReducer(state, action) {\r\n\tswitch (action.type) {\r\n\t\tcase 'TICK':\r\n\t\t\treturn { ...state, secondsRemaining: state.secondsRemaining - 1 };\r\n\t\tcase 'ROUND_STARTS':\r\n\t\t\treturn { ...initialState };\r\n\t\tcase 'OPTION_SELECTED':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tattempts: state.attempts + 1,\r\n\t\t\t\tselectedOptions: state.selectedOptions.concat(action.payload.optionIndex)\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\tthrow new Error('invalid action in round reducer');\r\n\t}\r\n}\r\nconst initialState = {\r\n\tattempts: 0,\r\n\tsecondsRemaining: 45,\r\n\tselectedOptions: []\r\n};\r\nfunction getRoundScore(attempts, timeIsOver) {\r\n\tif (timeIsOver) return 0;\r\n\tif (attempts === 0 && !timeIsOver) return 10;\r\n\treturn 10 - attempts * 2;\r\n}\r\n\r\nconst Round = ({ currentRound, gameDispatch, gameScore, roundOptions, correctOption }) => {\r\n\tconst [ roundState, dispatch ] = useReducer(roundReducer, initialState);\r\n\tconst attemptsRef = useRef(0);\r\n\tattemptsRef.current = roundState.attempts;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tdispatch({ type: 'ROUND_STARTS' });\r\n\t\t\tconst intervalo = setInterval(() => {\r\n\t\t\t\tdispatch({ type: 'TICK' });\r\n\t\t\t}, 1000);\r\n\t\t\treturn () => {\r\n\t\t\t\tclearInterval(intervalo);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ currentRound ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (roundState.secondsRemaining === 0) {\r\n\t\t\t\tconst roundScore = getRoundScore(attemptsRef.current, true);\r\n\t\t\t\tgameDispatch({ type: 'ENDED_ROUND', payload: { roundScore } });\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ roundState.secondsRemaining, gameDispatch ]\r\n\t);\r\n\r\n\tfunction handleOptionClick(ev) {\r\n\t\tconst selectedSong = ev.target.value;\r\n\t\tif (selectedSong === correctOption.song) {\r\n\t\t\tconst roundScore = getRoundScore(attemptsRef.current, false);\r\n\t\t\tgameDispatch({ type: 'ENDED_ROUND', payload: { roundScore } });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: 'OPTION_SELECTED',\r\n\t\t\tpayload: { optionIndex: roundOptions.findIndex((opt) => opt.song === selectedSong) }\r\n\t\t});\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"round\">\r\n\t\t\t<RoundIndicator currentRound={currentRound} roundsQuantity={5} />\r\n\t\t\t<div className=\"round__round-info-container\">\r\n\t\t\t\t<RoundInfo info={gameScore}>\r\n\t\t\t\t\t<StarIcon />\r\n\t\t\t\t</RoundInfo>\r\n\t\t\t\t<RoundInfo info={roundState.secondsRemaining}>\r\n\t\t\t\t\t<ClockIcon />\r\n\t\t\t\t</RoundInfo>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"round__lyrics\">\r\n\t\t\t\t{correctOption.lyrics.map((lyric, index) => {\r\n\t\t\t\t\treturn <p key={index}>{lyric}</p>;\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"round__options-container\">\r\n\t\t\t\t{roundOptions.map((option, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tvalue={option.song}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tdisabled={roundState.selectedOptions.includes(index)}\r\n\t\t\t\t\t\t\tonClick={handleOptionClick}\r\n\t\t\t\t\t\t\tclassName=\"round__option\"\r\n\t\t\t\t\t\t\tstyle={{ '--animation-order': index + 1 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.song}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Round;\r\n","import React from 'react';\r\nimport './FinalResults.css';\r\nimport { ReactComponent as StarIcon } from '../icons/starIcon.svg';\r\nconst FinalResults = ({ gameScore }) => {\r\n\treturn (\r\n\t\t<div className=\"final-results\">\r\n\t\t\t<div className=\"final-results__star-container\">\r\n\t\t\t\t<StarIcon />\r\n\t\t\t</div>\r\n\t\t\t<h2>Terminó el juego</h2>\r\n\t\t\t<h3>Obtuviste {gameScore} puntos</h3>\r\n\t\t\t<h3>Refresca la página para jugar de nuevo</h3>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FinalResults;\r\n","import React, { useReducer } from 'react';\r\nimport Round from '../round/Round.js';\r\nimport FinalResults from '../finalResults/FinalResults.js';\r\nimport './Game.css';\r\nfunction gameReducer(state, action) {\r\n\tswitch (action.type) {\r\n\t\tcase 'ENDED_ROUND':\r\n\t\t\treturn {\r\n\t\t\t\tcurrentRound: state.currentRound + 1,\r\n\t\t\t\tgameScore: state.gameScore + action.payload.roundScore\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\tthrow new Error();\r\n\t}\r\n}\r\nconst initialGameState = {\r\n\tcurrentRound: 1,\r\n\tgameScore: 0\r\n};\r\nconst Game = ({ artistName, gameOptions }) => {\r\n\tconst [ gameState, dispatch ] = useReducer(gameReducer, initialGameState);\r\n\treturn (\r\n\t\t<div className=\"game\">\r\n\t\t\t{gameState.currentRound <= 5 ? (\r\n\t\t\t\t<Round\r\n\t\t\t\t\tkey={gameState.currentRound}\r\n\t\t\t\t\tcurrentRound={gameState.currentRound}\r\n\t\t\t\t\tgameDispatch={dispatch}\r\n\t\t\t\t\tgameScore={gameState.gameScore}\r\n\t\t\t\t\troundOptions={gameOptions[gameState.currentRound - 1]}\r\n\t\t\t\t\tcorrectOption={gameOptions[gameState.currentRound - 1].find((option) => 'lyrics' in option)}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<FinalResults gameScore={gameState.gameScore} artistName={artistName} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport './ErrorScreen.css';\r\nconst ErrorScreen = ({ artistName, type }) => {\r\n\tconst serverErrorText = 'Momentaneamente el servicio no está disponible, intenta nuevamente más tarde';\r\n\tconst artistNotFoundText = `Mmm... parece que no hemos encontrado un artista con el nombre \"${artistName}\". \r\n\tVerifica que lo hayas escrito correctamente o refresca la página e intenta con otro artista!`;\r\n\tconst insuficientLyricsText = `Lamentablemente no contamos con suficientes letras de canciones del artista seleccionado. \r\n\t\t¡Refresca la página e intenta con otro artista!`;\r\n\tconst lyricsProviderErrorText =\r\n\t\t'Parece que ocurre un error en el proveedor de las letras, intente jugar nuevamente más tarde';\r\n\treturn (\r\n\t\t<div className=\"error-screen\">\r\n\t\t\t<h2 className=\"error-screen__text\">\r\n\t\t\t\t{type === 'artist not found' ? (\r\n\t\t\t\t\tartistNotFoundText\r\n\t\t\t\t) : type === 'Insufficient lyrics' ? (\r\n\t\t\t\t\tinsuficientLyricsText\r\n\t\t\t\t) : type === 'Lyrics provider error' ? (\r\n\t\t\t\t\tlyricsProviderErrorText\r\n\t\t\t\t) : (\r\n\t\t\t\t\tserverErrorText\r\n\t\t\t\t)}\r\n\t\t\t</h2>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default ErrorScreen;\r\n","import React from 'react';\r\nimport './Loader.css';\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<div className=\"loader\">\r\n\t\t\t<div />\r\n\t\t\t<div />\r\n\t\t\t<div />\r\n\t\t\t<div />\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Loader;\r\n","import React, { useReducer, useState } from 'react';\nimport ArtistForm from './components/artistForm/ArtistForm.js';\nimport Game from './components/game/Game.js';\nimport ErrorScreen from './components/errorScreen/ErrorScreen.js';\nimport Loader from './components/loader/Loader.js';\nimport './App.css';\n\nfunction appReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'OPTIONS_READY':\n\t\t\treturn { ...state, gameOptions: action.payload.gameOptions, artistName: action.payload.artistName };\n\t\tcase 'OPTIONS_ERROR':\n\t\t\treturn { ...state, error: action.payload.error, artistName: action.payload.artistName };\n\t\tdefault:\n\t\t\tthrow new Error('invalid action in appReducer');\n\t}\n}\nconst initialState = {\n\tartistName: null,\n\tgameOptions: null,\n\terror: null\n};\n\nfunction App() {\n\tconst [ appState, dispatch ] = useReducer(appReducer, initialState);\n\tconst [ formSubmitted, setFormSubmitted ] = useState(false);\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{appState.gameOptions ? (\n\t\t\t\t<Game artistName={appState.artistName} gameOptions={appState.gameOptions} />\n\t\t\t) : appState.error ? (\n\t\t\t\t<ErrorScreen artistName={appState.artistName} type={appState.error.message} />\n\t\t\t) : formSubmitted ? (\n\t\t\t\t<Loader />\n\t\t\t) : (\n\t\t\t\t<ArtistForm appDispatch={dispatch} setFormSubmitted={setFormSubmitted} />\n\t\t\t)}\n\t\t</div>\n\t);\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}